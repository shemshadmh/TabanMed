@using Application.Dtos.Application
@using Application.Dtos.Hotels.Hotels
@using Application.Extensions
@using Resources.DataDictionary
@model HotelDetailsDto

@{
    ViewData[AppConstants.ViewDataTitlePageName] = UIElements.Details;
    ViewData[AppConstants.ViewDataControllerName] = UIElements.HotelsList;
    ViewData[AppConstants.ViewDataControllerRoute] = "Hotels";
}


@if (TempData[AppConstants.TempDataMessageTitle] != null)
{

    <partial name="_PartialNotificationDivision" model="new NotificationDto(Convert.ToBoolean(TempData[AppConstants.TempDataMessageTitle]!.ToString()!.Split('~')[1].Trim()),
    TempData[AppConstants.TempDataMessageTitle]!.ToString()!.Split('~')[0].Trim())" />
}

<div class="row">
    <!-- Column -->
    <div class="col-lg-4 col-xlg-3 col-md-5">
        <div class="card">
            <div class="card-body">
                <div class="m-t-30">
                    <img src="@Model.ImageUrl" onerror="PhotoHandler.methods.loadFailed()" class="img-thumbnail w-100">
                    <br />
                    <strong>@UIElements.CountOfStars</strong>:
                    <label class="card-title m-t-10">@Model.Stars</label>
                    <br />
                    <strong>@UIElements.HotelPhone</strong>:
                    <label class="card-title m-t-10">@(Model.CallInformation ?? string.Empty.NotingRegisteredIfNull())</label>
                    <br />
                    <strong>@UIElements.WebsiteAddress</strong>:
                    <label class="card-title m-t-10">@(Model.WebsiteAddress ?? string.Empty.NotingRegisteredIfNull())</label>
                    <br />
                    <strong>@UIElements.City</strong>:
                    <label class="card-title m-t-10">@Model.CityName </label>
                    <br />
                    <strong>@DataDictionary.PriceInDollar</strong>:
                    <label class="card-title m-t-10">@Model.Price </label>
                    <br />

                </div>
            </div>
            <div>
                <div class="card-footer">
                    <div class="text-left">
                        <a asp-controller="Hotels" asp-action="EditBasics" asp-route-id="@Model.Id" class="btn btn-warning">@UIElements.Edit</a>
                        <a asp-controller="Hotels" asp-action="Index" asp-route-cityId="@Model.CityId" class="btn btn-primary">@UIElements.Back</a>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
    <!-- Column -->
    <!-- Column -->
    <div class="col-lg-8 col-xlg-9 col-md-7">
        <div class="card">
            <!-- Tabs -->
            <ul class="nav nav-pills custom-pills" id="pills-tab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active show" id="pills-setting-tab" data-toggle="pill" href="#Fa"
                       role="tab" aria-controls="pills-timeline" aria-selected="true">
                        @UIElements.Farsi
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="pills-setting-tab" data-toggle="pill" href="#En"
                       role="tab" aria-controls="pills-setting" aria-selected="false">
                        @UIElements.English
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="pills-setting-tab" data-toggle="pill" href="#Ar"
                       role="tab" aria-controls="pills-setting" aria-selected="false">
                        @UIElements.Arabic
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="pills-setting-tab" data-toggle="pill" href="#Af"
                       role="tab" aria-controls="pills-setting" aria-selected="false">
                        @UIElements.Dari
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="pills-setting-tab" data-toggle="pill" href="#HotelFacility"
                       role="tab" aria-controls="pills-setting" aria-selected="false">
                        @UIElements.HotelFacilities
                    </a>
                </li>

            </ul>
            <!-- Tabs -->
            <div class="tab-content" id="pills-tabContent">

                <div class="tab-pane mt-3 fade active show" id="Fa" aria-labelledby="pills-timeline-tab">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4">
                                <strong>@UIElements.HotelName</strong>
                                <br>
                                <p class="text-muted">@(Model.HotelTranslationDto!.FirstOrDefault(hoteltranslation => hoteltranslation.LanguageId == AppConstants.FaLanguageLcid)?.Name ?? string.Empty.NotingRegisteredIfNull())</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <strong>@UIElements.HotelAbout</strong>
                                <br>
                                <p class="text-muted">@(Model.HotelTranslationDto!.FirstOrDefault(hoteltranslation => hoteltranslation.LanguageId == AppConstants.FaLanguageLcid)?.About ?? string.Empty.NotingRegisteredIfNull())</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <strong>@UIElements.Address</strong>
                                <br>
                                <p class="text-muted">@(Model.HotelTranslationDto!.FirstOrDefault(hoteltranslation => hoteltranslation.LanguageId == AppConstants.FaLanguageLcid)?.Address ?? string.Empty.NotingRegisteredIfNull())</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="card-footer">
                                <a class="btn btn-warning" asp-action="Edit" asp-route-hotelId="@Model.Id" asp-route-languageId="@AppConstants.FaLanguageLcid">@UIElements.Edit</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade mt-3" id="En" aria-labelledby="pills-timeline-tab">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4">
                                <strong>@UIElements.HotelName</strong>
                                <br>
                                <p class="text-muted">@(Model.HotelTranslationDto!.FirstOrDefault(hoteltranslation => hoteltranslation.LanguageId == AppConstants.EnLanguageLcid)?.Name ?? string.Empty.NotingRegisteredIfNull())</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <strong>@UIElements.HotelAbout</strong>
                                <br>
                                <p class="text-muted">@(Model.HotelTranslationDto!.FirstOrDefault(hoteltranslation => hoteltranslation.LanguageId == AppConstants.EnLanguageLcid)?.About ?? string.Empty.NotingRegisteredIfNull())</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <strong>@UIElements.Address</strong>
                                <br>
                                <p class="text-muted">@(Model.HotelTranslationDto!.FirstOrDefault(hoteltranslation => hoteltranslation.LanguageId == AppConstants.EnLanguageLcid)?.Address ?? string.Empty.NotingRegisteredIfNull())</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="card-footer">
                                <a class="btn btn-warning" asp-action="Edit" asp-route-hotelId="@Model.Id" asp-route-languageId="@AppConstants.EnLanguageLcid">@UIElements.Edit</a>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="tab-pane fade mt-3" id="Ar" aria-labelledby="pills-timeline-tab">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4">
                                <strong>@UIElements.HotelName</strong>
                                <br>
                                <p class="text-muted">@(Model.HotelTranslationDto!.FirstOrDefault(hoteltranslation => hoteltranslation.LanguageId == AppConstants.ArLanguageLcid)?.Name ?? string.Empty.NotingRegisteredIfNull())</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <strong>@UIElements.HotelAbout</strong>
                                <br>
                                <p class="text-muted">@(Model.HotelTranslationDto!.FirstOrDefault(hoteltranslation => hoteltranslation.LanguageId == AppConstants.ArLanguageLcid)?.About ?? string.Empty.NotingRegisteredIfNull())</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <strong>@UIElements.Address</strong>
                                <br>
                                <p class="text-muted">@(Model.HotelTranslationDto!.FirstOrDefault(hoteltranslation => hoteltranslation.LanguageId == AppConstants.ArLanguageLcid)?.Address ?? string.Empty.NotingRegisteredIfNull())</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="card-footer">
                                <a class="btn btn-warning" asp-action="Edit" asp-route-hotelId="@Model.Id" asp-route-languageId="@AppConstants.ArLanguageLcid">@UIElements.Edit</a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-pane fade mt-3" id="Af" aria-labelledby="pills-timeline-tab">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4">
                                <strong>@UIElements.HotelName</strong>
                                <br>
                                <p class="text-muted">@(Model.HotelTranslationDto!.FirstOrDefault(hoteltranslation => hoteltranslation.LanguageId == AppConstants.AfLanguageLcid)?.Name ?? string.Empty.NotingRegisteredIfNull())</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <strong>@UIElements.HotelAbout</strong>
                                <br>
                                <p class="text-muted">@(Model.HotelTranslationDto!.FirstOrDefault(hoteltranslation => hoteltranslation.LanguageId == AppConstants.AfLanguageLcid)?.About ?? string.Empty.NotingRegisteredIfNull())</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <strong>@UIElements.Address</strong>
                                <br>
                                <p class="text-muted">@(Model.HotelTranslationDto!.FirstOrDefault(hoteltranslation => hoteltranslation.LanguageId == AppConstants.AfLanguageLcid)?.Address ?? string.Empty.NotingRegisteredIfNull())</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="card-footer">
                                <a class="btn btn-warning" asp-action="Edit" asp-route-hotelId="@Model.Id" asp-route-languageId="@AppConstants.AfLanguageLcid">@UIElements.Edit</a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-pane fade mt-3" id="HotelFacility" aria-labelledby="pills-timeline-tab">
                    <div class="card-body">
                        <div class="tab-pane  mt-3" id="hotel-facilities" aria-labelledby="pills-timeline-tab">
                            <div class="card-body">
                                <vc:hotel-facilities hotel-id="Model.Id" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            
            
            
           
        </div>
    </div>
    <!-- Column -->

</div>

@section Scripts
    {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");

    }
    <script src="~/lib/jquery/jquery.unobtrusive-ajax.js" asp-append-version="true"></script>

    <partial name="/Views/Hotels/Partials/_AppendToHotelAlbumPartial.cshtml"
         model="new AppendToHotelAlbumDto { HotelId = Model.Id }" />
    <vc:edit-hotel-facilities hotel-id="@Model.Id" />
    <script src="~/js/Pages/Hotels/HotelDetails.js" asp-append-version="true"></script>
    <script src="~/js/Pages/Hotels/HotelFacilityIndex.js" asp-append-version="true"></script>
    <script>
        HotelDetails.init(@Model.Id);
    </script>

}